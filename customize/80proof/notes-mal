---
mal
---

Choices file doesn't validate, but doesn't leave any red stars.
Trying customize-one.py led to the system spinning.

Problem was disjunctive gender value on noun12: inanimate, non-rational.
Changed that to just inanimate, and got a grammar that loaded, but
with a cycle on non-rational, because noun10 still had that disjunctive
value.  Change that to just inanimate, and got on to next problem.

Cycle involving NOM-ACC-TRANSITIVE-VERB-LEX

Changed:

  verb1_name=nom-acc-transitive

to:

  verb1_name=nom-acc-trans

... and made similar changes for all the verb type names.

Grammar loads!

Coverage: 10/39 25.6%
Overgeneration: 2/37 5.4%
Errors: 29

Added stem for "read":

    verb1_stem2_orth=vaayi
    verb1_stem2_pred=_read_v_rel

Coverage: 10/39 25.6%
Overgeneration: 2/37 5.4%
Errors: 25

Changed spelling of one stem:

    noun1_stem3_orth=raamaan
    noun1_stem3_pred=_name_n_rel

    noun1_stem3_orth=raaman
    noun1_stem3_pred=_name_n_rel

Coverage: 10/39 25.6%
Overgeneration: 2/37 5.4%
Errors: 23

#56 not parsing because coordination is
not fully retrofitted to new morphotactics. In particular,
infl-bottom-coord-rule requires that the daughter be
[INFLECTED -], but the daughter in this case has
gone through a lexeme-to-word-rule.  

Added stem for "fall":

    verb2_stem2_orth=viiZ
    verb2_stem2_pred=_fall_v_rel

#58, 59 don't parse because affix-marked coordination
is not supported for phrases (NP, VP, S)

Something very puzzling here:

TSNLP(3): (lkb::do-parse-tty "atE cirikk-tu")
Error: 
Rule PAST_VERB returned from morph analyser is undefined (error in grammar
       loading?)

There is nothing called "past_verb" anywhere in the
.tdl, so I have now idea how the morph analyzer is getting
that. Even tried restarting the LKB to make sure it
wasn't left over from some other grammar.

Found the culprit: We'd left in an irregs.tab file initalized
with an example from English:

"
ate PAST_VERB eat
"

Not sure if it's legit to remove this or not.

Coverage: 10/39 25.6%
Overgeneration: 2/37 5.4%
Errors: 22

Problem with this example:

kuTTi amma-e viLi-ccu
child.nom mother-acc call-past
The child called the mother.


appears to be that the past tense rule is ltol, i.e.,
viLi-ccu is [INFLECTED -].

Fixed that by making verb-slot4 and verb-slot5 (negation
markers) optional.

  verb-slot4_opt=on
  verb-slot5_opt=on

Coverage 29/39 74.4%
Overgeneration 2/37 5.4%
Errors: 24

That seems to have introduced a new error for this example (#65):

kuTTi cirikk-uka-aaNe-irunnu
child.nom laugh-infinitive-imperfect-past
'The child was laughing.'

Item 14 wasn't parsing and furthermore was getting subj-head
and comp-head attachment for subject of intransitive verb.
Changed this:

  verb4_valence=trans

to this:

  verb4_valence=intrans

Coverage 30/39 76.9%
Overgeneration 2/37 5.4%
Errors: 24

Two ungrammatical examples parsing:

#Ex 36 demonstrates an ungrammatical use of tense.  Here the verb appears without the tense marker.
Source: author
Vetted: f
Judgment: u
Phenomena: {tam}
kuTTi cirikk
kuTTi cirikk
child.nom laugh
'The child laughs.'

--> The problem here is a bug in the morphotactics that
lead to tense-aspect-rule-dtr being a supertype of verb-lex,
despite nothing in the choices file indicating that.

#Ex 71 demonstrates ungrammatical present habitual.  It is formed by adding "-aaRE" and "-uNTE" to the verb stem.  Here they are attached to the present tense stem.
Source: author
Vetted: f
Judgment: u
Phenomena: {tam}
kuTTi cirikkunnaaRuNTaayirunnu
kuTTi cirikk-unnu-aaRE-uNTE
child.nom laugh-pres-hab-hab.pres
'The child was laughing.'

--> This one we might be able to fix, since there
seem to be two ways of doing -aaRe-uNTe, all at once
or in two pieces.

SS--I loaded the grammar and received an error for the imperfective-marker-rule.  The error stated there was a strange character.  I checked irules.tdl and noticed an
extra space.  I removed the space and reloaded the grammar without errors.

Trying to fix the problems with Ex 71, 66, 69, 70, I removed the second morpheme -aaRE-uNTe from the faked-tense-aspect-marker slot and created a new slot for it that takes any verb as an input.  The new grammar has slightly improved coverage.

Coverage 79.5%
Overgeneration 2.7%

Ex 71 was eliminated
Ex 66 parsed

I think that the problem with #69 and #70 is that I did not update the tense-aspect 
slot to have the new slot as input.

Coverage 84.6%
Overgeneration 2.7%

I think that this is the most that we will be able to do.

08/06/2009 EVALUATION:
First run: repoduced results from scorecard

MRSs: Look good except for example 53:
Coordination is marked twice in the MRS, once with the correct arguments, once without anything. Need to check where this is coming from in malayam.tdl file.

ungrammatical examples that are not parsing: all for correct reasons, except:
60,61,62: do not parse, because suffixes to VPs and Ss are not supported. Restrictions on specific verb forms, etc. can to my knowledge not be dealt with for coordination, in the current customization system.
67-68: In my opinion, these examples are not really testing anything under the current 'choices': since the two affixes are added as if they were one (kind of a hack, I guess), we are simply testing whether the system rejects a sequence that is a subset of an affix. This feels a bit like cheating to reduce the overgeneration percentage.
19: I'm not sure, it depends: can inanimates not occur with accusative at all, or just not when functioning as a direct object?
24: Also hard to tell why it is not parsing: we would need a grammatical plural example to compare.

overgeneration: example 36, see explanation above.

undergeneration: example 47, not sure what is supposed to happen (could be data error).
32: 'ate'-bug
56,58,59: problem that np,vp and s coordination are not supported. Several things to note here: 1. old requirement that suffix can only attach to inflected - (seems silly), 2. system does not support 'phrasal' affixes 3. requirements such as 'must attach of verb of such and such form, auxiliary required' are not supported.
65: Past-marker cannot take a form that is inflected + (which imperfective assigns). I can't find attempts to solve this in the notes, so maybe we want to have another look at this? 

things to look at: example 13, not parsing because of wrong reason, but I'm guessing a typo. 
