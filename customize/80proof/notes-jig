----
jig:
----

Redundancy involving NON-FEMININE
NON-FEMININE: NEUTER is redundant - it is an ancestor of VEGETABLE 

Repairs:

Changed definition of gender hierarchy to relatively
flat, with fem and non-fem, the latter having subtypes
masc, neut, and veg.

Moved animacy out of gender and made it an "other feature"
with possible values "anim/inam".  

Changed number to sg/non-sg, with du and pl under non-sg.
Some elements specify non-sg, others du, nothing outside
of pronouns direclty says sg, nothing directly says pl.

Initial coverage:  
Coverage: 11/56 36.7%
Overgeneration: 0
Error: 39/56

Problem:

case slot can't take number slot as its input.  Tried fixing this by
adding possible input for noun-slot2 and ran into ?bug with
-lex-rule-dtr being inherited by noun-lex and the subtypes of
noun-lex.

Tried removing this:
  noun-slot1_opt=on

Still having the same error, so trying putting this one back
in and then having noun-slot2 only take noun-slot1 as input.

  noun-slot1_opt=on


also: not getting any parses of verbs without object markers
because subject marker slot isn't available as input for
tense marker.  (Or maybe because object marker isn't optional?)
Try making the tense marker take the subject marker as an
additional possible input, and run into same -lex-rule-dtr
bug.

Not sure why this is working now, but here's the current
state of affairs:

    verb-slot3_input1_type=verb-slot2
    verb-slot3_input2_type=verb-slot1

It doesn't make sense to make the object marker optional,
because it only applies to tverbs as input.

Current competence:
Coverage: 14/30 46.7%
Overgeneration: 3/26 11.5%
Error: 14/56

Next issue:

Missing lexical entry for ngiji/see.  Added like this:

    verb1_stem2_orth=ngiji
    verb1_stem2_pred=_see_v_rel


But that's still not enough. Tried making obj marker (which
apparently comes after the subject marker in these examples)
take subject marker rules as input, but that runs into problems
with the tense lex rules which don't want obj marker input.
... because of this:

    verb-slot3_input1_type=verb-slot2
    verb-slot3_input1_type=verb-slot1

changed to:

    verb-slot3_input1_type=verb-slot2
    verb-slot3_input2_type=verb-slot1

That fixed three errors, all on ungrammatical examples.  In fact,
all remaining errors are on ungrammatical examples, and the changes
noted above also increased ambiguity.  So maybe they are actually
regressions. *** Check this ***

Next issue:

-rni (and probably other case markers) weren't taking
pronouns as input.  Tried fixing like this:

    noun-slot2_input2_type=noun4
    noun-slot2_input3_type=noun5
    noun-slot2_input4_type=noun6
    noun-slot2_input5_type=noun7
    noun-slot2_input6_type=noun8
    noun-slot2_input7_type=noun9
    noun-slot2_input8_type=noun10
    noun-slot2_input9_type=noun11

Competence:

Coverage: 25/30 83.3%
Overgeneration: 6/26 23.1%
Error: 10/56


Next issue:

Overgeneration of 1/2 subject agreement markers with
3rd person subjects.  The problem here is that the
common nouns weren't specified as third person in the
choices file.  Fixed like this (for each of noun1-3):

    noun1_feat2_name=pernum
    noun1_feat2_value=3rd

Resulting comptence figures:

Coverage: 25/30 = 83.3%
Overgeneration: 4/26 = 15.4%
Error: 10/56

Next issue:

There is spurious ambiguity in the current jig grammar because the
tense lexical rules can take the verb as a daughter directly.  This
looks like a customization bug (from the choices file, I don't think
this should happen).  In addition, however, the object markers are
effectively optional, and I don't think this is intended. The problem
is that the order, when both are present/overt is
subject-object-tense.  Since intransitives don't need object markers,
the tense rules have to be able to attach directly to subject markers
in the case of intransitive verbs.  BUT: With transitive verbs, the
object markers are presumably required.  (At least, I'm guessing so.
The ambiguity is arising because the third person objects are marked
with zeros...)

One solution is to make two sets of subject markers, one for
transitives and one for intransitives.  Then the tense marker rules
could attach to object markers or intranstive subject markers.  What I
do in the Wambaya grammar (not possible through the customization
system) is to put an zero-marked "intransitive" marker in the object
marker slot, requiring an empty COMPS list.

A complication, though, is some ungrammatical examples illustrating
incompatibility of 1st and 2nd person subject markers with certain
object markers.  I can't tell from the notes if this is because those
combinations of subjects and objects are just ineffable, or if "I see
you" would be expressed some other way.  If they are just ineffable,
it would be simple enough to say that the object markers also put some
constraints on the subjects of the verbs they attach to.  Another
solution is to make separate slots for the 1sg and 2nd subject markers
and have the object markers disallow them as input.

7/14/09: use "requires" and/or "other features" to let the object
marking rules select for the transitive verbs.  *** Interesting
interaction *** not yet considered in the customization system:
lexical rules that care about valence.  cf Wambaya TAM is sensitive to
png on subject & presence/absence of object.

7/29/09: "requires" didn't work because you can't select verb
stem classes in that way (it seems), but "other features" seems to
have worked.  I don't know why I didn't check in that version of the choices
file, but I'm doing so now.

8/05/2009 EVALUATION:
First run: repoduced reported results in scorecard.
Repair: typo in 'choices' (or data): word meaning 'wind' spelled differently.
Grammar covers one more sentence.

MRS parsed examples:
MRSs look correct, there are two points I am not sure about:
- Plural entities are DUAL + PLURAL
- "sun" and "wind" are underspecified for number (but could be solved in choices if necessary)

Analysis per phenomenon:
subject-verb agreement:
works, correct instances are parsed, incorrect strings are not parsed because of agreement mismatch.
question-particle position:
Correct, interaction between particles only being able to head head-comp, not comp-head, only taking verbal complements, and only verbs that have empty COMPS list. Last observation was tested by additional example (q-word in second position)
object markers:
Don't parse, because -ju cannot take a second-agreement-marker as daughter. Grammatical example does not parse, ungrammatical examples do not parse for the wrong reasons. Seems to require another repair.
Light verbs:
Do not work, don't know why yet.
Coordination:
Does not work, because light verbs do not work. I'm not sure whether light verbs are obligatory in coordinated structures, this is not tested for.
Word Order:
Free word order works.

8/6/2009 ASF
Looking into parse errors: 
- problem with object markers: tense-markers cannot take arguments with a morpheme in this slot. Tried reintroducing option:

    verb-slot3_input2_type=verb-slot2

It is not clear from the notes when and why this was removed. Grammatical example 40 is parsed now, so are ungrammatical examples with forbidden agreement combinations. As far as I can tell, this has not been looked into in detail yet (no attempt to exclude them through choices). Despite increased overgeneration, this seems an improvement since the ungrammatical examples were excluded for the wrong reasons before.
The other-features choices as explained above do not work, I'm not sure whether they worked before, and there is something missing in 'choices' or whether it only seemed to work, because the tense-marker could not take the second verb-slot.Maybe another solution where markers of different groups fall into different slots would work? E.g. slot for intransitive verbs and one for transitive verbs?
Similar idea might work to make sure that interaction between subj- and obj- markers work correctly.

Repair: verb-slot3_input1_type-verb-slot2

slot 3 should only take slot2, rather than either slot1 or 2. This removed spurious ambiguity, and all examples are still parsed. Only interaction 2nd and 1st person is still overgenerating.

LIGHT-VERBS: REPAIR1
Examples with light-verb were not parsing because nonfinite forms where considered 'non-inflected'. Added a morphological rule that creates nonfinite verbs. Possibly, other rules should make verbs 'finite' now (though this data test does not contain ungrammatical examples that are parsed because of this additional rule). 

LIGHT-VERBS: REPAIR2
Examples with light-verbs were still not parsing, because of case missmatch of subject. There are two possibilities: either auxiliary requires ergative case, in that case 'choices' should be adapted to aux-case, or there is a typo in the test-suite, and case should be "nom". Assumming test-suite was correct, I adapted choices.

Adapted choices file is under choices-jingulu-antske
